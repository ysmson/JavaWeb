<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<script type="text/javascript">
			function search(){
				console.log('search()');
				$.ajax({
					url: 'Shawn47.jsp',
					method: 'get',
					data: {
						"orderId": $('#orderId').val()
					},
					success: function(data){
						console.log(data);
						$('#customer').html(data.customer);
						$('#employee').html(data.employee);
						
						$('#table').empty();
						$(data.details).each(function(i,row){
							$('#table').append(
								'<tr>' +
								'<td>' + row.pid + '</td>' + 
								'<td>' + row.pname + '</td>' + 
								'<td>' + row.price + '</td>' + 
								'<td>' + row.qty + '</td>' +
								'<td>' + row.total + '</td>' + 
								'</tr>'
							);
						});
						
						
						
						
					}
				});
			}
		
		
		</script>
	
	</head>
	<body>
	
		<h1>Shawn Big Company</h1>
		<hr />
		Order ID: <input id='orderId' />
		<input type="button" onclick='search()' value='Search' />
		<hr />
		Employee: <span id='employee'></span><br />
		Customer: <span id='customer'></span><br />
		<hr />
		<table border='1' width='100%' id='table'></table>
			
	
		
	</body>
</html>